!function(e){"use strict";var o=function(){function e(e,o){for(var t in o){var i=o[t];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,o)}return function(o,t,i){return t&&e(o.prototype,t),i&&e(o,i),o}}(),t=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")};!function(e){var i=e.fn.emojipicker,n={className:".emojipicker",input:".form-control",toggle:".emojipicker-toggle",template:'<div class="popover emojipicker-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',emojiList:"/json/emojipicker.json",debug:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},r=function(){function i(o,r){var c=this;if(t(c,i),r.className=r.className.replace(/\./g,""),c._config=e.extend({},n,r),c._$element=e("<div />"),c._$input=o instanceof jQuery?o:e(o),c._categories={},c._emojis={},c._header=null,c._content=null,c._$input){var a="emojipicker-"+(Math.floor(11*Math.random())+Math.floor(1e6*Math.random())).toString().trim(),s=c._$input.attr("style"),l=c._$input.attr("class"),u=c._$input.attr("placeholder");if(c._config.toggle instanceof jQuery)var f=c._config.toggle;else f=e('<a href="#" class="'+c._config.toggle.replace(/\./g,"")+'" role="button" data-toggle="popover">&#x263A;</a>');var p=e('<div class="emojipicker-content" contenteditable="true" />');if(c._$element.attr("id",a),p.attr("style",s).attr("data-placeholder",u).attr("class",l+" "+p.attr("class")).attr("data-type",c._$input.get(0).type),c._$input.attr("aria-describedby",a).attr("type","hidden").css("display","none"),c._$popover=f.popover({placement:"auto",html:!0,trigger:"focus",template:c._config.template,title:function(){return c._header?c._header:""},content:function(){return c._content}}).click(function(o){o.preventDefault(),e(o.target).popover("show")}),c._$element.addClass(r.className).append(p).append(f).append(f),c._$input.after(c._$element),c._$popover.on("show.bs.popover",function(o){return c._config.debug&&console.log("Call `onShow` method",c),c._$popover.not(o.target).popover("destroy"),e(".popover.popover-emojipicker").remove(),c._config.onShow.call(c)}).on("shown.bs.popover",function(){return c._config.debug&&console.log("Call `onShown` method",c),c._config.onShown.call(c)}).on("hide.bs.popover",function(){return c._config.debug&&console.log("Call `onHide` method",c),c._config.onHide.call(c)}).on("hidden.bs.popover",function(){return c._config.debug&&console.log("Call `onHidden` method",c),c._config.onHidden.call(c)}),e(document).on("click",function(o){c._$popover.each(function(){e(this).is(o.target)||0!==e(this).has(o.target).length||0!==e(".popover").has(o.target).length||(((e(this).popover("hide").data("bs.popover")||{}).inState||{}).click=!1)})}),r.emojiList){if("string"==typeof r.emojiList)try{var g=JSON.parse(r.emojiList);g.categories&&(c._categories=g.categories),g.emojis&&(c._emojis=g.emojis),c._config.debug&&console.log("Parsing emoji list from config",c._emojis)}catch(o){try{e.getJSON(r.emojiList,function(e){e.categories&&(c._categories=e.categories),e.emojis&&(c._emojis=e.emojis),c._config.debug&&console.log("Parsing emoji list from json file",c._emojis)})}catch(e){c._config.debug&&console.error("Unable find json or parse",r.emojiList)}}else"object"==typeof r.emojiList&&(r.emojiList.categories&&(c._categories=r.emojiList.categories),r.emojiList.emojis&&(c._emojis=r.emojiList.emojis),c._config.debug&&console.log("Parsing emoji list from object",c._emojis));setTimeout(function(){if(c._emojis.length>0&&"object"==typeof c._emojis){var o=[];c._content="",c._categories.length>0?e.each(c._categories,function(e,t){o.push(t)}):e.each(c._emojis,function(e,t){var i={id:e,title:t.category};o.push(i)}),o=(o=o.filter(function(e,o,t){return t.indexOf(e)===o})).reduce((e,o)=>e.concat(e.find(e=>e.title===o.title)?[]:[o]),[]),e.each(o,function(o,t){var i="",n=0;i+='<h5 class="header-list">'+t.title+"</h5>",i+='<ul id="emoji-category-'+(o+1)+'" class="media-list">',e.each(c._emojis,function(e,o){o.category!=t.id&&o.category!=t.title||(i+='<li class="media"><a href="#" class="media-left" title="'+o.title+'">'+o.source+"</a></li>",n++)}),i+="</ul>",n>0&&(c._content+=i)})}},2e3)}else c._config.debug&&console.error("Option `emojiList` must be configured",r.emojiList)}else c._config.debug&&console.error("Option `input` must be configured",c._$input)}return o(i,{element:{value:function(){return this._$element}},input:{value:function(){return this._$input}}},{Default:{get:function(){return n}},_jQueryInterface:{value:function(o){var t=this;return o=o||{},t.each(function(){var n=e(t),r=e.extend({},i.Default,n.data(),"object"==typeof o&&o);new i(t,r)})}}}),i}();e.fn.emojipicker=r._jQueryInterface,e.fn.emojipicker.Constructor=r,e.fn.emojipicker.noConflict=function(){return e.fn.emojipicker=i,r._jQueryInterface}}(jQuery)}(jQuery);
//# sourceMappingURL=emojipicker.js.map